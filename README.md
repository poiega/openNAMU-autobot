# openNAMU-bot
![icon](/namuplant/icon.png)

namuplant 기반을 수정해서 만든 오픈나무에서 봇을 돌리게 해주는 프로그램 입니다.

원작자(namuplant 봇 제작자님) [double-underscore](https://github.com/double-underscore)
2차 수정자 [poiega](https://github.com/poiega)
## 기능
* 리캡차를 요구하지 않는 모든 활동
    * 편집
        * 편집 요청 불가
    * 복구
    * 이미지 업로드
## 설치 및 설정
1. 기본 설정
	1. Python 3.8.x. 설치  
	    * 경로에 한글이 있으면 오류가 발생하므로 모든 사용자용으로 설치할 것.
	2. 적절한 폴더에 프로젝트 다운로드(클론)  
	    * 공유 폴더에 설치하면 ID와 비밀번호가 유출될 가능성이 있으므로 피할 것.
	3. `requirements.txt`를 이용해 패키지 설치
		* 윈도우 탐색기에서 다운로드(클론)한 폴더에 들어간 다음 shift + 오른쪽 클릭 - 여기에서 PowerShell 열기
	    * `pip install -r requirements.txt`
2. `run.py`(콘솔有) 또는 `run.pyw`(콘솔無) 실행
3. 로그인
	1. `설정 - 개인정보` 열기
	2. ID & 비밀번호 입력  
	    * `config.ini` 파일에 저장되므로 개인정보 유출 조심할 것.
	    * `로그인` 클릭 - 이메일로 발송된 PIN 입력 - umi 쿠키 자동 입력.
    3. User-Agents 입력  
	    * 기본적으로 입력되어 있음. 만약 바꾸고 싶다면 [관련 사이트](https://developers.whatismybrowser.com/useragents/parse/?analyse-my-user-agent=yes)에서 복사하여 입력. 입력하지 않으면 오류 발생.
	4. `저장`

## 사용법
1. 문서 목록 입력
    1. 입력
        * 좌측 상단에 있는 입력란 옆 콤보 상자에서 입력 옵션을 선택
            * 1개, 역링크, 분류된 문서, 사용자 기여, 검색, 이미지
        * 입력란에 내용을 입력하고 `Enter`시 입력
        * `右 ON` 상태에서 크롬 브라우저에서 문서 링크 우클릭 시 직접 입력하지 않아도 입력됨
        * 이미지는 입력란 클릭시 파일 열기 창이 열림
    2. 문서 목록
        * 문서 제목 더블 클릭 시 RAW 확인 및 편집 가능. 이미지 파일이라면 간단하게 이미지 미리보기 가능.
        * 열 제목 더블 클릭 시 중복 문서 제거
        * 이미지 파일의 경우 목록에서 선택 후 아무 키나 누르면 업로드될 문서명 편집 가능
        * `Ctrl + Shift + Up/Down`: 선택 문서 위 / 아래 이동
        * `Ctrl + Shift + Left/Right`: 선택 문서 맨 위 / 맨 아래 이동
2. 편집 지시사항 입력
    1. 공통
        * 콤보 박스로 옵션 선택 후 내용을 입력하고 `Enter`시 입력
        * 이미 입력된 지시사항을 선택하고 아무 키나 누르면 편집 가능
        * 편집 지시사항 더블 클릭시 문서 목록에 해당 편집 지시자 삽입
    2. 편집
        * `문서`-`수정`시 `찾기` 다음에는 `바꾸기` 필수
        * `문서`-`수정`-`링크`일 때 `찾기`에 `aaa|bbb` 형식으로 입력하면 [[aaa|bbb]] 형태를 적절하게 바꿔줌.
    3. 복구
        * `직전`-`마지막`, `처음` 일 때 입력 칸에 특정 사용자의 아이디를 입력하면, 각 문서의 역사 1페이지에서 그 사용자의 마지막 기여 혹은 가장 이른 기여 직전으로 복구됨.
    4. 이미지 업로드
        * 분류, 라이선스는 빈 칸인 상태에서 `Enter`를 눌러도 콤보 박스에 있는대로 입력됨
        * 분류, 라이선스를 입력하지 않으면 기본적으로 분류:파일/미분류, 제한적 이용 라이선스로 업로드됨.
    5. 요약
        * 편집 요약. 각 편집 지시사항 그룹 내에서 제일 마지막에 삽입할 것
       
3. 문서 목록에 편집 지시자 삽입
    * 문서 목록에서 `Alt + 1 ~ 9` 눌러서 해당 번호 삽입 가능 
4. `시작`
    * 비교
        * 실행 시 변경 사항 비교창에서 편집 지시사항이 제대로 작성되었는지 확인.
        * 변경 사항을 나타내는 셀은 일부 편집이 가능하며, 선택된 옵션 단추에 있는 내용대로 편집이 진행됨. 새로고침으로 확인 필수.
        * 체크 박스가 있는 셀은 선택 해제시 반영되지 않음.
        * `실행`: 현재 문서에 편집 사항 적용
        * `건너뛰기`: 현재 문서에 편집 사항 미적용
        * `그룹 실행`: 편집 지시자가 같은 다른 문서에서 비교창을 띄우지 않고 즉시 편집 사항 적용
        * `모두 실행`: 문서 목록에 있는 모든 다른 문서에서 비교창을 띄우지 않고 즉시 편집 사항 적용
        
## 유의사항
* 마우스 우클릭을 통한 문서 입력은 크롬 브라우저에서만 가능.
* 모든 기능은 위키 엔진 업데이트에 따라 작동하지 않을 수 있음.
* 모든 코드는 스파게티 코드로 작성되어 있음.
